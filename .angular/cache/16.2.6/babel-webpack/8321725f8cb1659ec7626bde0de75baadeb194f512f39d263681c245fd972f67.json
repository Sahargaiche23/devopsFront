{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Etudiant } from '../../models/Etudiant';\nexport let EtudiantComponent = class EtudiantComponent {\n  constructor(etudiantService) {\n    this.etudiantService = etudiantService;\n    this.etudiants = [];\n    this.selectedEtudiant = null;\n    this.newEtudiant = new Etudiant();\n    this.showAddForm = false; // Add this line\n  }\n\n  ngOnInit() {\n    this.getEtudiants();\n  }\n  getEtudiants() {\n    this.etudiantService.getEtudiants().subscribe(etudiants => this.etudiants = etudiants);\n  }\n  onSelect(etudiant) {\n    this.selectedEtudiant = etudiant;\n  }\n  addEtudiant() {\n    this.etudiantService.addEtudiant(this.newEtudiant).subscribe(etudiant => {\n      this.etudiants.push(etudiant);\n      this.newEtudiant = new Etudiant(); // Clear the form\n    });\n  }\n\n  updateEtudiant(etudiant) {\n    this.etudiantService.updateEtudiant(etudiant).subscribe(() => {\n      // Update the student in the local list if needed\n    });\n  }\n  deleteEtudiant(etudiant) {\n    this.etudiantService.deleteEtudiant(etudiant.idEtudiant).subscribe(() => {\n      this.etudiants = this.etudiants.filter(e => e !== etudiant);\n      this.selectedEtudiant = null;\n    });\n  }\n  toggleAddForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n};\nEtudiantComponent = __decorate([Component({\n  selector: 'app-etudiant',\n  templateUrl: './etudiant.component.html',\n  styleUrls: ['./etudiant.component.css']\n})], EtudiantComponent);","map":{"version":3,"names":["Component","Etudiant","EtudiantComponent","constructor","etudiantService","etudiants","selectedEtudiant","newEtudiant","showAddForm","ngOnInit","getEtudiants","subscribe","onSelect","etudiant","addEtudiant","push","updateEtudiant","deleteEtudiant","idEtudiant","filter","e","toggleAddForm","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/sahar/Téléchargements/DevOps_project-main/KhaddemFront/src/app/components/etudiant/etudiant.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Etudiant } from '../../models/Etudiant';\nimport { EtudiantService } from '../../services/etudiant.service';\n\n@Component({\n  selector: 'app-etudiant',\n  templateUrl: './etudiant.component.html',\n  styleUrls: ['./etudiant.component.css']\n})\nexport class EtudiantComponent implements OnInit {\n  etudiants: Etudiant[] = [];\n  selectedEtudiant: Etudiant | null = null;\n  newEtudiant: Etudiant = new Etudiant();\n  showAddForm: boolean = false; // Add this line\n\n  constructor(private etudiantService: EtudiantService) { }\n\n  ngOnInit(): void {\n    this.getEtudiants();\n  }\n\n  getEtudiants(): void {\n    this.etudiantService.getEtudiants()\n      .subscribe(etudiants => this.etudiants = etudiants);\n  }\n\n  onSelect(etudiant: Etudiant): void {\n    this.selectedEtudiant = etudiant;\n  }\n\n  addEtudiant(): void {\n    this.etudiantService.addEtudiant(this.newEtudiant)\n      .subscribe(etudiant => {\n        this.etudiants.push(etudiant);\n        this.newEtudiant = new Etudiant(); // Clear the form\n      });\n  }\n\n  updateEtudiant(etudiant: Etudiant): void {\n    this.etudiantService.updateEtudiant(etudiant)\n      .subscribe(() => {\n        // Update the student in the local list if needed\n      });\n  }\n\n  deleteEtudiant(etudiant: Etudiant): void {\n    this.etudiantService.deleteEtudiant(etudiant.idEtudiant)\n      .subscribe(() => {\n        this.etudiants = this.etudiants.filter(e => e !== etudiant);\n        this.selectedEtudiant = null;\n      });\n  }\n  toggleAddForm() { // Add this method\n    this.showAddForm = !this.showAddForm;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,QAAQ,QAAQ,uBAAuB;AAQzC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAM5BC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IALnC,KAAAC,SAAS,GAAe,EAAE;IAC1B,KAAAC,gBAAgB,GAAoB,IAAI;IACxC,KAAAC,WAAW,GAAa,IAAIN,QAAQ,EAAE;IACtC,KAAAO,WAAW,GAAY,KAAK,CAAC,CAAC;EAE0B;;EAExDC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACN,eAAe,CAACM,YAAY,EAAE,CAChCC,SAAS,CAACN,SAAS,IAAI,IAAI,CAACA,SAAS,GAAGA,SAAS,CAAC;EACvD;EAEAO,QAAQA,CAACC,QAAkB;IACzB,IAAI,CAACP,gBAAgB,GAAGO,QAAQ;EAClC;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACV,eAAe,CAACU,WAAW,CAAC,IAAI,CAACP,WAAW,CAAC,CAC/CI,SAAS,CAACE,QAAQ,IAAG;MACpB,IAAI,CAACR,SAAS,CAACU,IAAI,CAACF,QAAQ,CAAC;MAC7B,IAAI,CAACN,WAAW,GAAG,IAAIN,QAAQ,EAAE,CAAC,CAAC;IACrC,CAAC,CAAC;EACN;;EAEAe,cAAcA,CAACH,QAAkB;IAC/B,IAAI,CAACT,eAAe,CAACY,cAAc,CAACH,QAAQ,CAAC,CAC1CF,SAAS,CAAC,MAAK;MACd;IAAA,CACD,CAAC;EACN;EAEAM,cAAcA,CAACJ,QAAkB;IAC/B,IAAI,CAACT,eAAe,CAACa,cAAc,CAACJ,QAAQ,CAACK,UAAU,CAAC,CACrDP,SAAS,CAAC,MAAK;MACd,IAAI,CAACN,SAAS,GAAG,IAAI,CAACA,SAAS,CAACc,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKP,QAAQ,CAAC;MAC3D,IAAI,CAACP,gBAAgB,GAAG,IAAI;IAC9B,CAAC,CAAC;EACN;EACAe,aAAaA,CAAA;IACX,IAAI,CAACb,WAAW,GAAG,CAAC,IAAI,CAACA,WAAW;EACtC;CACD;AA9CYN,iBAAiB,GAAAoB,UAAA,EAL7BtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACWvB,iBAAiB,CA8C7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}